#JAVA_PARSER_Complier_Project

start_counter = 0
Modifier_counter = 0
ModifierList_counter = 0
MultModifier_counter = 0
Identifier_counter = 0
Literal_counter = 0
Type_counter = 0
PrimitiveType_counter = 0
NumericType_counter = 0
IntegralType_counter = 0
FloatingPointType_counter = 0
ReferenceType_counter = 0
ClassOrInterfaceType_counter = 0
ClassType_counter = 0
MultAnnotation_counter = 0
ArrayType_counter = 0
Dims_counter = 0
TypeParameter_counter = 0
TypeBound_counter = 0
MultAdditionalBound_counter = 0
AdditionalBound_counter = 0
TypeArguments_counter = 0
TypeArgumentList_counter = 0
TypeArgument_counter = 0
Wildcard_counter = 0
WildcardBounds_counter = 0
TypeName_counter = 0
CompilationUnit_counter = 0
MultImportDeclaration_counter = 0
MultTypeDeclaration_counter = 0
PackageDeclaration_counter = 0
ImportDeclaration_counter = 0
SingleTypeImportDeclaration_counter = 0
TypeImportOnDemandDeclaration_counter = 0
SingleStaticImportDeclaration_counter = 0
StaticImportOnDemandDeclaration_counter = 0
TypeDeclaration_counter = 0
ClassDeclaration_counter = 0
NormalClassDeclaration_counter = 0
TypeParameters_counter = 0
CommaSeparatedIdentifiers_counter = 0
TypeParameterList_counter = 0
Superclass_counter = 0
Superinterfaces_counter = 0
InterfaceTypeList_counter = 0
ClassBody_counter = 0
MultClassBodyDeclaration_counter = 0
ClassBodyDeclaration_counter = 0
ClassMemberDeclaration_counter = 0
FieldDeclaration_counter = 0
VariableDeclaratorList_counter = 0
VariableDeclarator_counter = 0
VariableDeclaratorId_counter = 0
VariableInitializer_counter = 0
MethodDeclaration_counter = 0
MethodHeader_counter = 0
Result_counter = 0
MethodDeclarator_counter = 0
FormalParameterList_counter = 0
FormalParameters_counter = 0
FormalParameter1_counter = 0
FormalParameter2_counter = 0
FormalParameter_counter = 0
LastFormalParameter_counter = 0
ReceiverParameter_counter = 0
Throws_counter = 0
ExceptionTypeList_counter = 0
ExceptionType_counter = 0
MethodBody_counter = 0
InstanceInitializer_counter = 0
StaticInitializer_counter = 0
ConstructorDeclaration_counter = 0
ConstructorBody_counter = 0
ExplicitConstructorInvocation_counter = 0
EnumDeclaration_counter = 0
EnumBody_counter = 0
EnumConstantList_counter = 0
EnumConstant_counter = 0
MultEnumConstantModifier_counter = 0
EnumConstantModifier_counter = 0
EnumBodyDeclarations_counter = 0
InterfaceDeclaration_counter = 0
NormalInterfaceDeclaration_counter = 0
ExtendsInterfaces_counter = 0
InterfaceBody_counter = 0
InterfaceMemberDeclaration_counter = 0
MultInterfaceMemberDeclaration_counter = 0
ConstantDeclaration_counter = 0
InterfaceMethodDeclaration_counter = 0
AnnotationTypeDeclaration_counter = 0
AnnotationTypeBody_counter = 0
MultAnnotationTypeMemberDeclaration_counter = 0
AnnotationTypeMemberDeclaration_counter = 0
AnnotationTypeElementDeclaration_counter = 0
MultAnnotationTypeElementModifier_counter = 0
DefaultValue_counter = 0
Annotation_counter = 0
NormalAnnotation_counter = 0
ElementValuePairList_counter = 0
ElementValuePair_counter = 0
ElementValue_counter = 0
ElementValueArrayInitializer_counter = 0
ElementValueList_counter = 0
MarkerAnnotation_counter = 0
SingleElementAnnotation_counter = 0
ArrayInitializer_counter = 0
VariableInitializerList_counter = 0
Block_counter = 0
BlockStatements_counter = 0
MultBlockStatement_counter = 0
BlockStatement_counter = 0
LocalVariableDeclarationStatement_counter = 0
LocalVariableDeclaration_counter = 0
Statement_counter = 0
StatementNoShortIf_counter = 0
StatementWithoutTrailingSubstatement_counter = 0
EmptyStatement_counter = 0
LabeledStatement_counter = 0
LabeledStatementNoShortIf_counter = 0
ExpressionStatement_counter = 0
StatementExpression_counter = 0
IfThenStatement_counter = 0
IfThenElseStatement_counter = 0
IfThenElseStatementNoShortIf_counter = 0
AssertStatement_counter = 0
SwitchStatement_counter = 0
SwitchBlock_counter = 0
MultSwitchBlockStatementGroup_counter = 0
SwitchBlockStatementGroup_counter = 0
MultSwitchLabel_counter = 0
SwitchLabel_counter = 0
WhileStatement_counter = 0
WhileStatementNoShortIf_counter = 0
DoStatement_counter = 0
ForStatement_counter = 0
ForStatementNoShortIf_counter = 0
BasicForStatement_counter = 0
BasicForStatementNoShortIf_counter = 0
ForInit_counter = 0
ForUpdate_counter = 0
StatementExpressionList_counter = 0
EnhancedForStatement_counter = 0
EnhancedForStatementNoShortIf_counter = 0
BreakStatement_counter = 0
ContinueStatement_counter = 0
ReturnStatement_counter = 0
ThrowStatement_counter = 0
SynchronizedStatement_counter = 0
TryStatement_counter = 0
Catches_counter = 0
MultCatchClause_counter = 0
CatchClause_counter = 0
CatchFormalParameter_counter = 0
CatchType_counter = 0
MultCatchType1_counter = 0
Finally_counter = 0
TryWithResourcesStatement_counter = 0
ResourceSpecification_counter = 0
ResourceList_counter = 0
Resource_counter = 0
Primary_counter = 0
PrimaryNoNewArray_counter = 0
ClassLiteral_counter = 0
ClassInstanceCreationExpression_counter = 0
UnqualifiedClassInstanceCreationExpression_counter = 0
ClassOrInterfaceTypeToInstantiate_counter = 0
ClassOrInterfaceTypeToInstantiate1_counter = 0
TypeArgumentsOrDiamond_counter = 0
FieldAccess_counter = 0
ArrayAccess_counter = 0
MethodInvocation_counter = 0
ArgumentList_counter = 0
MethodReference_counter = 0
ArrayCreationExpression_counter = 0
DimExprs_counter = 0
DimExpr_counter = 0
Expression_counter = 0
LambdaExpression_counter = 0
Assignment_counter = 0
LeftHandSide_counter = 0
AssignmentOperator_counter = 0
ConditionalExpression_counter = 0
ConditionalOrExpression_counter = 0
ConditionalAndExpression_counter = 0
InclusiveOrExpression_counter = 0
ExclusiveOrExpression_counter = 0
AndExpression_counter = 0
EqualityExpression_counter = 0
RelationalExpression_counter = 0
ShiftExpression_counter = 0
AdditiveExpression_counter = 0
MultiplicativeExpression_counter = 0
UnaryExpression_counter = 0
UnaryExpressionNotPlusMinus_counter = 0
PostIncrementExpression_counter = 0
PostDecrementExpression_counter = 0
CastExpression_counter = 0
Brackets_counter = 0

import yacc
import sys, os
from lexer import lexer,tokens

################################################################################

def p_start(p):
    '''start : CompilationUnit '''
    global start_counter
    p[0] = "start_{%d}" % (start_counter)
    start_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_Modifier(p):
    ''' Modifier : PUBLIC
                 | PROTECTED
                 | PRIVATE
                 | ABSTRACT
                 | STATIC
                 | FINAL
                 | STRICTFP
                 | TRANSIENT
                 | VOLATILE
                 | SYNCHRONIZED
                 | NATIVE
                 | DEFAULT'''
    global Modifier_counter
    p[0] = "Modifier_{%d}" % (Modifier_counter)
    Modifier_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ModifierList(p):
    ''' ModifierList : MultModifier
                   | MultAnnotation
                   '''
    global ModifierList_counter
    p[0] = "ModifierList_{%d}" % (ModifierList_counter)
    ModifierList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_MultModifier(p):
    ''' MultModifier : Modifier MultModifier
                     | Modifier '''
    global MultModifier_counter
    p[0] = "MultModifier_{%d}" % (MultModifier_counter)
    MultModifier_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

# TODO: Support FOR unicode needs to be added
def p_Identifier(p):
    '''Identifier : IDENTIFIER'''

    global Identifier_counter
    p[0] = "Identifier_%d" % (Identifier_counter)
    Identifier_counter+=1
    f.write('"%s" -> "%s"\n' % (p[0], p[1]))

def p_Literal(p):
    '''Literal : DECIMALINT
               | DECIMALFLOATINGLIT
               | BOOLEANLIT
               | CHARLIT
               | STRINGLIT
               | NULLLIT'''

    global Literal_counter
    p[0] = "Literal_{%d}" % (Literal_counter)
    Literal_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> %s\n' % (p[0], str(p[i])))

################################################################################

def p_Type(p):
    '''Type : PrimitiveType
            | ReferenceType'''

    global Type_counter
    p[0] = "Type_{%d}" % (Type_counter)
    Type_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_PrimitiveType(p):
    '''PrimitiveType : MultAnnotation NumericType
                     | MultAnnotation BOOLEAN
                     | NumericType
                     | BOOLEAN '''

    global PrimitiveType_counter
    p[0] = "PrimitiveType_{%d}" % (PrimitiveType_counter)
    PrimitiveType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_NumericType(p):
    '''NumericType : IntegralType
                     | FloatingPointType'''

    global NumericType_counter
    p[0] = "NumericType_{%d}" % (NumericType_counter)
    NumericType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_IntegralType(p):
    '''IntegralType : BYTE
                    | SHORT
                    | INT
                    | LONG
                    | CHAR'''

    global IntegralType_counter
    p[0] = "IntegralType_{%d}" % (IntegralType_counter)
    IntegralType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_FloatingPointType(p):
    '''FloatingPointType : FLOAT
                         | DOUBLE'''

    global FloatingPointType_counter
    p[0] = "FloatingPointType_{%d}" % (FloatingPointType_counter)
    FloatingPointType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ReferenceType(p):
    '''ReferenceType : ClassOrInterfaceType
                     | ArrayType'''

    global ReferenceType_counter
    p[0] = "ReferenceType_{%d}" % (ReferenceType_counter)
    ReferenceType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ClassOrInterfaceType(p):
    '''ClassOrInterfaceType : ClassType'''

    global ClassOrInterfaceType_counter
    p[0] = "ClassOrInterfaceType_{%d}" % (ClassOrInterfaceType_counter)
    ClassOrInterfaceType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ClassType(p):
    '''ClassType : ClassOrInterfaceType DOT MultAnnotation Identifier TypeArguments
                 | ClassOrInterfaceType DOT MultAnnotation Identifier
                 | ClassOrInterfaceType DOT Identifier TypeArguments
                 | ClassOrInterfaceType DOT Identifier
                 | MultAnnotation Identifier TypeArguments
                 | MultAnnotation Identifier
                 | Identifier TypeArguments
                 '''

    global ClassType_counter
    p[0] = "ClassType_{%d}" % (ClassType_counter)
    ClassType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_MultAnnotation(p):
    '''MultAnnotation : Annotation MultAnnotation 
                      | Annotation'''

    global MultAnnotation_counter
    p[0] = "MultAnnotation_{%d}" % (MultAnnotation_counter)
    MultAnnotation_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ArrayType(p):
    '''ArrayType : PrimitiveType Dims
                 | ClassOrInterfaceType Dims'''

    global ArrayType_counter
    p[0] = "ArrayType_{%d}" % (ArrayType_counter)
    ArrayType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_Dims(p):
    '''Dims : MultAnnotation LBRACKETS RBRACKETS Dims
            | MultAnnotation LBRACKETS RBRACKETS
            | LBRACKETS RBRACKETS Dims
            | LBRACKETS RBRACKETS'''

    global Dims_counter
    p[0] = "Dims_{%d}" % (Dims_counter)
    Dims_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_TypeParameter(p):
    '''TypeParameter : MultAnnotation Identifier TypeBound
                     | MultAnnotation Identifier
                     | Identifier TypeBound
                     '''

    global TypeParameter_counter
    p[0] = "TypeParameter_{%d}" % (TypeParameter_counter)
    TypeParameter_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_TypeBound(p):
    '''TypeBound : EXTENDS ClassOrInterfaceType 
                 | EXTENDS ClassOrInterfaceType MultAdditionalBound
                 '''


    global TypeBound_counter
    p[0] = "TypeBound_{%d}" % (TypeBound_counter)
    TypeBound_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_MultAdditionalBound(p):
    ''' MultAdditionalBound : MultAdditionalBound AdditionalBound
                          | AdditionalBound '''

    global MultAdditionalBound_counter
    p[0] = "MultAdditionalBound_{%d}" % (MultAdditionalBound_counter)
    MultAdditionalBound_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_AdditionalBound(p):
    '''AdditionalBound : BOOLEANAND ClassType'''

    global AdditionalBound_counter
    p[0] = "AdditionalBound_{%d}" % (AdditionalBound_counter)
    AdditionalBound_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_TypeArguments(p):
    '''TypeArguments : LESSTHAN TypeArgumentList GREATERTHAN'''

    global TypeArguments_counter
    p[0] = "TypeArguments_{%d}" % (TypeArguments_counter)
    TypeArguments_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_TypeArgumentList(p):
    '''TypeArgumentList : TypeArgument COMMA TypeArgumentList
                        | TypeArgument'''

    global TypeArgumentList_counter
    p[0] = "TypeArgumentList_{%d}" % (TypeArgumentList_counter)
    TypeArgumentList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_TypeArgument(p):
    '''TypeArgument : ReferenceType
                    | Wildcard'''

    global TypeArgument_counter
    p[0] = "TypeArgument_{%d}" % (TypeArgument_counter)
    TypeArgument_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_Wildcard(p):
    '''Wildcard : MultAnnotation QUESTIONMARK WildcardBounds
                | MultAnnotation QUESTIONMARK
                | QUESTIONMARK WildcardBounds
                | QUESTIONMARK'''

    global Wildcard_counter
    p[0] = "Wildcard_{%d}" % (Wildcard_counter)
    Wildcard_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_WildcardBounds(p):
    '''WildcardBounds : EXTENDS ReferenceType
                      | SUPER ReferenceType'''

    global WildcardBounds_counter
    p[0] = "WildcardBounds_{%d}" % (WildcardBounds_counter)
    WildcardBounds_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

################################################################################

#This just points to DotSeparatedIdentifiers ( with atleast a dot) All TypeName -> Identifier replaced by Identifier 
def p_TypeName(p):
    '''TypeName : TypeName DOT Identifier
                | Identifier DOT Identifier'''

    global TypeName_counter
    p[0] = "TypeName_{%d}" % (TypeName_counter)
    TypeName_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

################################################################################

#Removing Empty Program in Java
def p_CompilationUnit(p):
    '''CompilationUnit : PackageDeclaration MultImportDeclaration MultTypeDeclaration
                       | PackageDeclaration MultImportDeclaration
                       | PackageDeclaration MultTypeDeclaration
                       | MultImportDeclaration MultTypeDeclaration
                       | MultTypeDeclaration
                       | PackageDeclaration
                       | MultImportDeclaration
                       '''

    global CompilationUnit_counter
    p[0] = "CompilationUnit_{%d}" % (CompilationUnit_counter)
    CompilationUnit_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_MultImportDeclaration(p):
    '''MultImportDeclaration : ImportDeclaration MultImportDeclaration
                             | ImportDeclaration'''

    global MultImportDeclaration_counter
    p[0] = "MultImportDeclaration_{%d}" % (MultImportDeclaration_counter)
    MultImportDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_MultTypeDeclaration(p):
    '''MultTypeDeclaration : TypeDeclaration MultTypeDeclaration
                           | TypeDeclaration'''

    global MultTypeDeclaration_counter
    p[0] = "MultTypeDeclaration_{%d}" % (MultTypeDeclaration_counter)
    MultTypeDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_PackageDeclaration(p):
    '''PackageDeclaration : MultAnnotation PACKAGE TypeName SEMICOLON
                          | PACKAGE TypeName SEMICOLON
                          | MultAnnotation PACKAGE Identifier SEMICOLON
                          | PACKAGE Identifier SEMICOLON'''

    global PackageDeclaration_counter
    p[0] = "PackageDeclaration_{%d}" % (PackageDeclaration_counter)
    PackageDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ImportDeclaration(p):
    '''ImportDeclaration : SingleTypeImportDeclaration
                         | TypeImportOnDemandDeclaration
                         | SingleStaticImportDeclaration
                         | StaticImportOnDemandDeclaration '''

    global ImportDeclaration_counter
    p[0] = "ImportDeclaration_{%d}" % (ImportDeclaration_counter)
    ImportDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_SingleTypeImportDeclaration(p):
    '''SingleTypeImportDeclaration : IMPORT TypeName SEMICOLON 
                                   | IMPORT Identifier SEMICOLON '''

    global SingleTypeImportDeclaration_counter
    p[0] = "SingleTypeImportDeclaration_{%d}" % (SingleTypeImportDeclaration_counter)
    SingleTypeImportDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_TypeImportOnDemandDeclaration(p):
    '''TypeImportOnDemandDeclaration : IMPORT TypeName DOT MULTIPLY SEMICOLON
                                     | IMPORT Identifier DOT MULTIPLY SEMICOLON'''

    global TypeImportOnDemandDeclaration_counter
    p[0] = "TypeImportOnDemandDeclaration_{%d}" % (TypeImportOnDemandDeclaration_counter)
    TypeImportOnDemandDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_SingleStaticImportDeclaration(p):
    '''SingleStaticImportDeclaration : IMPORT STATIC TypeName DOT Identifier SEMICOLON 
                                     | IMPORT STATIC Identifier DOT Identifier SEMICOLON '''

    global SingleStaticImportDeclaration_counter
    p[0] = "SingleStaticImportDeclaration_{%d}" % (SingleStaticImportDeclaration_counter)
    SingleStaticImportDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_StaticImportOnDemandDeclaration(p):
    '''StaticImportOnDemandDeclaration : IMPORT STATIC TypeName DOT MULTIPLY SEMICOLON
                                       | IMPORT STATIC Identifier DOT MULTIPLY SEMICOLON'''

    global StaticImportOnDemandDeclaration_counter
    p[0] = "StaticImportOnDemandDeclaration_{%d}" % (StaticImportOnDemandDeclaration_counter)
    StaticImportOnDemandDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_TypeDeclaration(p):
    '''TypeDeclaration : ClassDeclaration
                       | InterfaceDeclaration
                       | SEMICOLON'''

    global TypeDeclaration_counter
    p[0] = "TypeDeclaration_{%d}" % (TypeDeclaration_counter)
    TypeDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

################################################################################

def p_ClassDeclaration(p):
    '''ClassDeclaration : NormalClassDeclaration
                        | EnumDeclaration'''

    global ClassDeclaration_counter
    p[0] = "ClassDeclaration_{%d}" % (ClassDeclaration_counter)
    ClassDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_NormalClassDeclaration(p):
    '''NormalClassDeclaration : ModifierList CLASS Identifier TypeParameters Superclass Superinterfaces ClassBody
                              | ModifierList CLASS Identifier TypeParameters Superclass ClassBody
                              | ModifierList CLASS Identifier TypeParameters Superinterfaces ClassBody
                              | ModifierList CLASS Identifier Superclass Superinterfaces ClassBody
                              | ModifierList CLASS Identifier TypeParameters ClassBody
                              | ModifierList CLASS Identifier Superclass ClassBody
                              | ModifierList CLASS Identifier Superinterfaces ClassBody
                              | ModifierList CLASS Identifier ClassBody
                              | CLASS Identifier TypeParameters Superclass Superinterfaces ClassBody
                              | CLASS Identifier TypeParameters Superclass ClassBody
                              | CLASS Identifier TypeParameters Superinterfaces ClassBody
                              | CLASS Identifier Superclass Superinterfaces ClassBody
                              | CLASS Identifier TypeParameters ClassBody
                              | CLASS Identifier Superclass ClassBody
                              | CLASS Identifier Superinterfaces ClassBody
                              | CLASS Identifier ClassBody'''
    global NormalClassDeclaration_counter
    p[0] = "NormalClassDeclaration_{%d}" % (NormalClassDeclaration_counter)
    NormalClassDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_TypeParameters(p):
    '''TypeParameters : LESSTHAN TypeParameterList GREATERTHAN
                      | LESSTHAN CommaSeparatedIdentifiers GREATERTHAN'''

    global TypeParameters_counter
    p[0] = "TypeParameters_{%d}" % (TypeParameters_counter)
    TypeParameters_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_CommaSeparatedIdentifiers(p):
    ''' CommaSeparatedIdentifiers : Identifier COMMA CommaSeparatedIdentifiers
                                  | Identifier COMMA Identifier'''

    global CommaSeparatedIdentifiers_counter
    p[0] = "CommaSeparatedIdentifiers_{%d}" % (CommaSeparatedIdentifiers_counter)
    CommaSeparatedIdentifiers_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

#Does not contain Identifier List
def p_TypeParameterList(p):
    '''TypeParameterList : TypeParameter COMMA TypeParameterList
                         | TypeParameter'''

    global TypeParameterList_counter
    p[0] = "TypeParameterList_{%d}" % (TypeParameterList_counter)
    TypeParameterList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_Superclass(p):
    '''Superclass : EXTENDS ClassType'''

    global Superclass_counter
    p[0] = "Superclass_{%d}" % (Superclass_counter)
    Superclass_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_Superinterfaces(p):
    '''Superinterfaces : IMPLEMENTS InterfaceTypeList '''

    global Superinterfaces_counter
    p[0] = "Superinterfaces_{%d}" % (Superinterfaces_counter)
    Superinterfaces_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_InterfaceTypeList(p):
    '''InterfaceTypeList : ClassType COMMA InterfaceTypeList
                         | ClassType'''

    global InterfaceTypeList_counter
    p[0] = "InterfaceTypeList_{%d}" % (InterfaceTypeList_counter)
    InterfaceTypeList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ClassBody(p):
    '''ClassBody : LBRACES MultClassBodyDeclaration RBRACES
                 | LBRACES RBRACES'''

    global ClassBody_counter
    p[0] = "ClassBody_{%d}" % (ClassBody_counter)
    ClassBody_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_MultClassBodyDeclaration(p):
    '''MultClassBodyDeclaration : ClassBodyDeclaration MultClassBodyDeclaration
                                | ClassBodyDeclaration'''
    global MultClassBodyDeclaration_counter
    p[0] = "MultClassBodyDeclaration_{%d}" % (MultClassBodyDeclaration_counter)
    MultClassBodyDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ClassBodyDeclaration(p):
    '''ClassBodyDeclaration : ClassMemberDeclaration
                            | InstanceInitializer
                            | StaticInitializer
                            | ConstructorDeclaration'''
    global ClassBodyDeclaration_counter
    p[0] = "ClassBodyDeclaration_{%d}" % (ClassBodyDeclaration_counter)
    ClassBodyDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ClassMemberDeclaration(p):
    '''ClassMemberDeclaration : FieldDeclaration
                              | MethodDeclaration
                              | ClassDeclaration
                              | InterfaceDeclaration
                              | SEMICOLON '''
    global ClassMemberDeclaration_counter
    p[0] = "ClassMemberDeclaration_{%d}" % (ClassMemberDeclaration_counter)
    ClassMemberDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



#Added Type <--> Identifier to remove ClassType->Identifier
def p_FieldDeclaration(p):
    '''FieldDeclaration : ModifierList Type VariableDeclaratorList SEMICOLON
                        | ModifierList Type Identifier SEMICOLON
                        | Type VariableDeclaratorList SEMICOLON
                        | Type Identifier SEMICOLON
                        | ModifierList Identifier VariableDeclaratorList SEMICOLON
                        | ModifierList Identifier Identifier SEMICOLON
                        | Identifier VariableDeclaratorList SEMICOLON
                        | Identifier Identifier SEMICOLON'''
    global FieldDeclaration_counter
    p[0] = "FieldDeclaration_{%d}" % (FieldDeclaration_counter)
    FieldDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_VariableDeclaratorList(p):
    '''VariableDeclaratorList : VariableDeclarator COMMA VariableDeclaratorList
                              | VariableDeclarator COMMA Identifier
                              | Identifier COMMA VariableDeclaratorList
                              | Identifier COMMA Identifier
                              | VariableDeclarator 
                              '''
    global VariableDeclaratorList_counter
    p[0] = "VariableDeclaratorList_{%d}" % (VariableDeclaratorList_counter)
    VariableDeclaratorList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_VariableDeclarator(p):
    '''VariableDeclarator : VariableDeclaratorId EQUAL VariableInitializer
                          | VariableDeclaratorId
                          | Identifier EQUAL VariableInitializer
                          '''
    global VariableDeclarator_counter
    p[0] = "VariableDeclarator_{%d}" % (VariableDeclarator_counter)
    VariableDeclarator_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_VariableDeclaratorId(p):
    '''VariableDeclaratorId : Identifier Dims'''
    global VariableDeclaratorId_counter
    p[0] = "VariableDeclaratorId_{%d}" % (VariableDeclaratorId_counter)
    VariableDeclaratorId_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_VariableInitializer(p):
    '''VariableInitializer : Expression
                           | ArrayInitializer '''
    global VariableInitializer_counter
    p[0] = "VariableInitializer_{%d}" % (VariableInitializer_counter)
    VariableInitializer_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_MethodDeclaration(p):
    '''MethodDeclaration : ModifierList MethodHeader MethodBody
                         | MethodHeader MethodBody'''
    global MethodDeclaration_counter
    p[0] = "MethodDeclaration_{%d}" % (MethodDeclaration_counter)
    MethodDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



#Added Result <--> Identifier to remove ClassType->Identifier (for Type->Identifier conflict)
def p_MethodHeader(p):
    '''MethodHeader : Result MethodDeclarator Throws
                    | Result MethodDeclarator
                    | TypeParameters MultAnnotation Result MethodDeclarator Throws
                    | TypeParameters MultAnnotation Result MethodDeclarator
                    | TypeParameters Result MethodDeclarator Throws
                    | TypeParameters Result MethodDeclarator
                    | Identifier MethodDeclarator Throws
                    | Identifier MethodDeclarator
                    | TypeParameters MultAnnotation Identifier MethodDeclarator Throws
                    | TypeParameters MultAnnotation Identifier MethodDeclarator
                    | TypeParameters Identifier MethodDeclarator Throws
                    | TypeParameters Identifier MethodDeclarator
                    '''
    global MethodHeader_counter
    p[0] = "MethodHeader_{%d}" % (MethodHeader_counter)
    MethodHeader_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_Result(p):
    '''Result : Type
              | VOID'''
    global Result_counter
    p[0] = "Result_{%d}" % (Result_counter)
    Result_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_MethodDeclarator(p):
    '''MethodDeclarator : Identifier LPAREN FormalParameterList RPAREN Dims
                        | Identifier LPAREN FormalParameterList RPAREN
                        | Identifier LPAREN RPAREN Dims
                        | Identifier LPAREN RPAREN'''
    global MethodDeclarator_counter
    p[0] = "MethodDeclarator_{%d}" % (MethodDeclarator_counter)
    MethodDeclarator_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_FormalParameterList(p):
    '''FormalParameterList : ReceiverParameter
                           | FormalParameters COMMA LastFormalParameter
                           | LastFormalParameter '''
    global FormalParameterList_counter
    p[0] = "FormalParameterList_{%d}" % (FormalParameterList_counter)
    FormalParameterList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_FormalParameters(p):
    '''FormalParameters : FormalParameter1
                        | FormalParameter2 '''
    global FormalParameters_counter
    p[0] = "FormalParameters_{%d}" % (FormalParameters_counter)
    FormalParameters_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_FormalParameter1(p):
    '''FormalParameter1 : FormalParameter FormalParameter1
                        | FormalParameter'''
    global FormalParameter1_counter
    p[0] = "FormalParameter1_{%d}" % (FormalParameter1_counter)
    FormalParameter1_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_FormalParameter2(p):
    '''FormalParameter2 : ReceiverParameter FormalParameter2
                        | ReceiverParameter'''
    global FormalParameter2_counter
    p[0] = "FormalParameter2_{%d}" % (FormalParameter2_counter)
    FormalParameter2_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


#Added Type <--> Identifier to remove ClassType->Identifier
def p_FormalParameter(p):
    '''FormalParameter : ModifierList Type VariableDeclaratorId
                       | ModifierList Type Identifier 
                       | Type VariableDeclaratorId
                       | Type Identifier
                       | ModifierList Identifier VariableDeclaratorId
                       | ModifierList Identifier Identifier 
                       | Identifier VariableDeclaratorId
                       | Identifier Identifier '''
    global FormalParameter_counter
    p[0] = "FormalParameter_{%d}" % (FormalParameter_counter)
    FormalParameter_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


#Added Type <--> Identifier to remove ClassType->Identifier
def p_LastFormalParameter(p):
    '''LastFormalParameter : ModifierList Type MultAnnotation ELLIPSIS VariableDeclaratorId
                           | ModifierList Type ELLIPSIS VariableDeclaratorId
                           | ModifierList Type MultAnnotation ELLIPSIS Identifier
                           | ModifierList Type ELLIPSIS Identifier 
                           | Type MultAnnotation ELLIPSIS VariableDeclaratorId
                           | Type ELLIPSIS VariableDeclaratorId
                           | Type MultAnnotation ELLIPSIS Identifier
                           | Type ELLIPSIS Identifier 
                           |  ModifierList Identifier MultAnnotation ELLIPSIS VariableDeclaratorId
                           | ModifierList Identifier ELLIPSIS VariableDeclaratorId
                           | ModifierList Identifier MultAnnotation ELLIPSIS Identifier
                           | ModifierList Identifier ELLIPSIS Identifier 
                           | Identifier MultAnnotation ELLIPSIS VariableDeclaratorId
                           | Identifier ELLIPSIS VariableDeclaratorId
                           | Identifier MultAnnotation ELLIPSIS Identifier
                           | Identifier ELLIPSIS Identifier
                           | FormalParameter '''
    global LastFormalParameter_counter
    p[0] = "LastFormalParameter_{%d}" % (LastFormalParameter_counter)
    LastFormalParameter_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


#Added Type <--> Identifier to remove ClassType->Identifier
def p_ReceiverParameter(p):
    '''ReceiverParameter : MultAnnotation Type Identifier DOT THIS
                         | MultAnnotation Type THIS
                         | Type Identifier DOT THIS
                         | Type THIS
                         | MultAnnotation Identifier Identifier DOT THIS
                         | MultAnnotation Identifier THIS
                         | Identifier Identifier DOT THIS
                         | Identifier THIS'''
    global ReceiverParameter_counter
    p[0] = "ReceiverParameter_{%d}" % (ReceiverParameter_counter)
    ReceiverParameter_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_Throws(p):
    '''Throws : THROWS ExceptionTypeList'''
    global Throws_counter
    p[0] = "Throws_{%d}" % (Throws_counter)
    Throws_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ExceptionTypeList(p):
    '''ExceptionTypeList : ExceptionType COMMA ExceptionTypeList
                         | ExceptionType '''
    global ExceptionTypeList_counter
    p[0] = "ExceptionTypeList_{%d}" % (ExceptionTypeList_counter)
    ExceptionTypeList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ExceptionType(p):
    '''ExceptionType :  ClassType'''
    global ExceptionType_counter
    p[0] = "ExceptionType_{%d}" % (ExceptionType_counter)
    ExceptionType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_MethodBody(p):
    '''MethodBody : Block
                  | SEMICOLON'''
    global MethodBody_counter
    p[0] = "MethodBody_{%d}" % (MethodBody_counter)
    MethodBody_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_InstanceInitializer(p):
    '''InstanceInitializer :  Block'''
    global InstanceInitializer_counter
    p[0] = "InstanceInitializer_{%d}" % (InstanceInitializer_counter)
    InstanceInitializer_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_StaticInitializer(p):
    '''StaticInitializer : STATIC Block'''
    global StaticInitializer_counter
    p[0] = "StaticInitializer_{%d}" % (StaticInitializer_counter)
    StaticInitializer_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_ConstructorDeclaration(p):
    '''ConstructorDeclaration : ModifierList MethodDeclarator Throws ConstructorBody
                              | MethodDeclarator Throws ConstructorBody'''
    global ConstructorDeclaration_counter
    p[0] = "ConstructorDeclaration_{%d}" % (ConstructorDeclaration_counter)
    ConstructorDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ConstructorBody(p):
    '''ConstructorBody : LBRACES ExplicitConstructorInvocation BlockStatements RBRACES
                       | LBRACES ExplicitConstructorInvocation RBRACES
                       | LBRACES BlockStatements RBRACES
                       | LBRACES RBRACES '''
    global ConstructorBody_counter
    p[0] = "ConstructorBody_{%d}" % (ConstructorBody_counter)
    ConstructorBody_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ExplicitConstructorInvocation(p):
    '''ExplicitConstructorInvocation : TypeArguments THIS LPAREN ArgumentList RPAREN SEMICOLON
                                     | TypeArguments THIS LPAREN RPAREN SEMICOLON
                                     | THIS LPAREN ArgumentList RPAREN SEMICOLON
                                     | THIS LPAREN RPAREN SEMICOLON
                                     | TypeArguments SUPER LPAREN ArgumentList RPAREN SEMICOLON
                                     | TypeArguments SUPER LPAREN RPAREN SEMICOLON
                                     | SUPER LPAREN ArgumentList RPAREN SEMICOLON
                                     | SUPER LPAREN RPAREN SEMICOLON
                                     | TypeName DOT TypeArguments SUPER LPAREN ArgumentList RPAREN SEMICOLON
                                     | TypeName DOT TypeArguments SUPER LPAREN RPAREN SEMICOLON
                                     | TypeName DOT SUPER LPAREN ArgumentList RPAREN SEMICOLON
                                     | TypeName DOT SUPER LPAREN RPAREN SEMICOLON
                                     | Identifier DOT TypeArguments SUPER LPAREN ArgumentList RPAREN SEMICOLON
                                     | Identifier DOT TypeArguments SUPER LPAREN RPAREN SEMICOLON
                                     | Identifier DOT SUPER LPAREN ArgumentList RPAREN SEMICOLON
                                     | Identifier DOT SUPER LPAREN RPAREN SEMICOLON
                                     | Primary DOT TypeArguments SUPER LPAREN ArgumentList RPAREN SEMICOLON
                                     | Primary DOT TypeArguments SUPER LPAREN RPAREN SEMICOLON
                                     | Primary DOT SUPER LPAREN ArgumentList RPAREN SEMICOLON
                                     | Primary DOT SUPER LPAREN RPAREN SEMICOLON '''
    global ExplicitConstructorInvocation_counter
    p[0] = "ExplicitConstructorInvocation_{%d}" % (ExplicitConstructorInvocation_counter)
    ExplicitConstructorInvocation_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_EnumDeclaration(p):
    '''EnumDeclaration : ModifierList ENUM Identifier Superinterfaces EnumBody
                       | ModifierList ENUM Identifier EnumBody
                       | ENUM Identifier Superinterfaces EnumBody
                       | ENUM Identifier EnumBody'''
    global EnumDeclaration_counter
    p[0] = "EnumDeclaration_{%d}" % (EnumDeclaration_counter)
    EnumDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_EnumBody(p):
    '''EnumBody : LBRACES EnumConstantList COMMA EnumBodyDeclarations RBRACES
                | LBRACES EnumConstantList COMMA RBRACES
                | LBRACES EnumConstantList EnumBodyDeclarations RBRACES
                | LBRACES COMMA EnumBodyDeclarations RBRACES
                | LBRACES EnumBodyDeclarations RBRACES
                | LBRACES EnumConstantList RBRACES
                | LBRACES COMMA RBRACES
                | LBRACES RBRACES '''
    global EnumBody_counter
    p[0] = "EnumBody_{%d}" % (EnumBody_counter)
    EnumBody_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_EnumConstantList(p):
    '''EnumConstantList : EnumConstant COMMA EnumConstantList
                        | EnumConstant'''
    global EnumConstantList_counter
    p[0] = "EnumConstantList_{%d}" % (EnumConstantList_counter)
    EnumConstantList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_EnumConstant(p):
    '''EnumConstant : MultEnumConstantModifier Identifier LPAREN ArgumentList RPAREN ClassBody
                    | MultEnumConstantModifier Identifier LPAREN ArgumentList RPAREN
                    | MultEnumConstantModifier Identifier LPAREN RPAREN ClassBody
                    | Identifier LPAREN ArgumentList RPAREN ClassBody
                    | Identifier LPAREN RPAREN ClassBody
                    | Identifier LPAREN ArgumentList RPAREN
                    | MultEnumConstantModifier Identifier LPAREN RPAREN
                    | Identifier LPAREN RPAREN
                    | MultEnumConstantModifier Identifier ClassBody
                    | MultEnumConstantModifier Identifier
                    | Identifier ClassBody
                    | Identifier '''
    global EnumConstant_counter
    p[0] = "EnumConstant_{%d}" % (EnumConstant_counter)
    EnumConstant_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_MultEnumConstantModifier(p):
    '''MultEnumConstantModifier : EnumConstantModifier MultEnumConstantModifier
                                | EnumConstantModifier'''
    global MultEnumConstantModifier_counter
    p[0] = "MultEnumConstantModifier_{%d}" % (MultEnumConstantModifier_counter)
    MultEnumConstantModifier_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_EnumConstantModifier(p):
    '''EnumConstantModifier : Annotation'''
    global EnumConstantModifier_counter
    p[0] = "EnumConstantModifier_{%d}" % (EnumConstantModifier_counter)
    EnumConstantModifier_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_EnumBodyDeclarations(p):
    '''EnumBodyDeclarations : SEMICOLON MultClassBodyDeclaration
                            | SEMICOLON '''
    global EnumBodyDeclarations_counter
    p[0] = "EnumBodyDeclarations_{%d}" % (EnumBodyDeclarations_counter)
    EnumBodyDeclarations_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_InterfaceDeclaration(p):
    '''InterfaceDeclaration : NormalInterfaceDeclaration
                            | AnnotationTypeDeclaration'''
    global InterfaceDeclaration_counter
    p[0] = "InterfaceDeclaration_{%d}" % (InterfaceDeclaration_counter)
    InterfaceDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_NormalInterfaceDeclaration(p):
    '''NormalInterfaceDeclaration : ModifierList INTERFACE Identifier TypeParameters ExtendsInterfaces InterfaceBody
                                  | ModifierList INTERFACE Identifier ExtendsInterfaces InterfaceBody
                                  | ModifierList INTERFACE Identifier TypeParameters InterfaceBody
                                  | ModifierList INTERFACE Identifier InterfaceBody
                                  | INTERFACE Identifier TypeParameters ExtendsInterfaces InterfaceBody
                                  | INTERFACE Identifier ExtendsInterfaces InterfaceBody
                                  | INTERFACE Identifier TypeParameters InterfaceBody
                                  | INTERFACE Identifier InterfaceBody'''
    global NormalInterfaceDeclaration_counter
    p[0] = "NormalInterfaceDeclaration_{%d}" % (NormalInterfaceDeclaration_counter)
    NormalInterfaceDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_ExtendsInterfaces(p):
    '''ExtendsInterfaces : EXTENDS InterfaceTypeList '''
    global ExtendsInterfaces_counter
    p[0] = "ExtendsInterfaces_{%d}" % (ExtendsInterfaces_counter)
    ExtendsInterfaces_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_InterfaceBody(p):
    '''InterfaceBody : LBRACES MultInterfaceMemberDeclaration RBRACES
                     | LBRACES RBRACES'''
    global InterfaceBody_counter
    p[0] = "InterfaceBody_{%d}" % (InterfaceBody_counter)
    InterfaceBody_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_InterfaceMemberDeclaration(p):
    '''InterfaceMemberDeclaration : ConstantDeclaration
                                  | InterfaceMethodDeclaration
                                  | ClassDeclaration
                                  | InterfaceDeclaration
                                  | SEMICOLON'''
    global InterfaceMemberDeclaration_counter
    p[0] = "InterfaceMemberDeclaration_{%d}" % (InterfaceMemberDeclaration_counter)
    InterfaceMemberDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_MultInterfaceMemberDeclaration(p):
    '''MultInterfaceMemberDeclaration : InterfaceMemberDeclaration MultInterfaceMemberDeclaration
                                      | InterfaceMemberDeclaration'''
    global MultInterfaceMemberDeclaration_counter
    p[0] = "MultInterfaceMemberDeclaration_{%d}" % (MultInterfaceMemberDeclaration_counter)
    MultInterfaceMemberDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



#Added Type <--> Identifier to remove ClassType->Identifier
def p_ConstantDeclaration(p):
    '''ConstantDeclaration : ModifierList Type VariableDeclaratorList SEMICOLON
                           | ModifierList Type Identifier SEMICOLON
                           | Type VariableDeclaratorList SEMICOLON
                           | Type Identifier SEMICOLON
                           | ModifierList Identifier VariableDeclaratorList SEMICOLON
                           | ModifierList Identifier Identifier SEMICOLON
                           | Identifier VariableDeclaratorList SEMICOLON
                           | Identifier Identifier SEMICOLON'''
    global ConstantDeclaration_counter
    p[0] = "ConstantDeclaration_{%d}" % (ConstantDeclaration_counter)
    ConstantDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_InterfaceMethodDeclaration(p):
    '''InterfaceMethodDeclaration : ModifierList MethodHeader MethodBody
                                  | MethodHeader MethodBody'''
    global InterfaceMethodDeclaration_counter
    p[0] = "InterfaceMethodDeclaration_{%d}" % (InterfaceMethodDeclaration_counter)
    InterfaceMethodDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_AnnotationTypeDeclaration(p):
    '''AnnotationTypeDeclaration : ModifierList AT INTERFACE Identifier AnnotationTypeBody
                                 | AT INTERFACE Identifier AnnotationTypeBody'''
    global AnnotationTypeDeclaration_counter
    p[0] = "AnnotationTypeDeclaration_{%d}" % (AnnotationTypeDeclaration_counter)
    AnnotationTypeDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_AnnotationTypeBody(p):
    '''AnnotationTypeBody : LBRACES MultAnnotationTypeMemberDeclaration RBRACES
                          | LBRACES RBRACES'''
    global AnnotationTypeBody_counter
    p[0] = "AnnotationTypeBody_{%d}" % (AnnotationTypeBody_counter)
    AnnotationTypeBody_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_MultAnnotationTypeMemberDeclaration(p):
    '''MultAnnotationTypeMemberDeclaration : AnnotationTypeMemberDeclaration MultAnnotationTypeMemberDeclaration
                                           | AnnotationTypeMemberDeclaration'''
    global MultAnnotationTypeMemberDeclaration_counter
    p[0] = "MultAnnotationTypeMemberDeclaration_{%d}" % (MultAnnotationTypeMemberDeclaration_counter)
    MultAnnotationTypeMemberDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_AnnotationTypeMemberDeclaration(p):
    '''AnnotationTypeMemberDeclaration : AnnotationTypeElementDeclaration
                                       | ConstantDeclaration
                                       | ClassDeclaration
                                       | InterfaceDeclaration
                                       | SEMICOLON '''
    global AnnotationTypeMemberDeclaration_counter
    p[0] = "AnnotationTypeMemberDeclaration_{%d}" % (AnnotationTypeMemberDeclaration_counter)
    AnnotationTypeMemberDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


#Added Type <--> Identifier to remove ClassType->Identifier
def p_AnnotationTypeElementDeclaration(p):
    '''AnnotationTypeElementDeclaration : MultAnnotationTypeElementModifier Type Identifier LPAREN RPAREN Dims DefaultValue SEMICOLON
                                        | Type Identifier LPAREN RPAREN Dims DefaultValue SEMICOLON
                                        | MultAnnotationTypeElementModifier Type Identifier LPAREN RPAREN DefaultValue SEMICOLON
                                        | MultAnnotationTypeElementModifier Type Identifier LPAREN RPAREN Dims SEMICOLON
                                        | MultAnnotationTypeElementModifier Type Identifier LPAREN RPAREN SEMICOLON
                                        | Type Identifier LPAREN RPAREN DefaultValue SEMICOLON
                                        | Type Identifier LPAREN RPAREN Dims SEMICOLON
                                        | Type Identifier LPAREN RPAREN SEMICOLON 
                                        | MultAnnotationTypeElementModifier Identifier Identifier LPAREN RPAREN Dims DefaultValue SEMICOLON
                                        | Identifier Identifier LPAREN RPAREN Dims DefaultValue SEMICOLON
                                        | MultAnnotationTypeElementModifier Identifier Identifier LPAREN RPAREN DefaultValue SEMICOLON
                                        | MultAnnotationTypeElementModifier Identifier Identifier LPAREN RPAREN Dims SEMICOLON
                                        | MultAnnotationTypeElementModifier Identifier Identifier LPAREN RPAREN SEMICOLON
                                        | Identifier Identifier LPAREN RPAREN DefaultValue SEMICOLON
                                        | Identifier Identifier LPAREN RPAREN Dims SEMICOLON
                                        | Identifier Identifier LPAREN RPAREN SEMICOLON '''
    global AnnotationTypeElementDeclaration_counter
    p[0] = "AnnotationTypeElementDeclaration_{%d}" % (AnnotationTypeElementDeclaration_counter)
    AnnotationTypeElementDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_MultAnnotationTypeElementModifier(p):
    '''MultAnnotationTypeElementModifier : ModifierList '''
    global MultAnnotationTypeElementModifier_counter
    p[0] = "MultAnnotationTypeElementModifier_{%d}" % (MultAnnotationTypeElementModifier_counter)
    MultAnnotationTypeElementModifier_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_DefaultValue(p):
    '''DefaultValue :  DEFAULT ElementValue'''
    global DefaultValue_counter
    p[0] = "DefaultValue_{%d}" % (DefaultValue_counter)
    DefaultValue_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_Annotation(p):
    '''Annotation : NormalAnnotation
                  | MarkerAnnotation
                  | SingleElementAnnotation'''
    global Annotation_counter
    p[0] = "Annotation_{%d}" % (Annotation_counter)
    Annotation_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_NormalAnnotation(p):
    '''NormalAnnotation : AT TypeName LPAREN ElementValuePairList RPAREN 
                        | AT Identifier LPAREN ElementValuePairList RPAREN 
                        | AT TypeName LPAREN RPAREN 
                        | AT Identifier LPAREN RPAREN '''
    global NormalAnnotation_counter
    p[0] = "NormalAnnotation_{%d}" % (NormalAnnotation_counter)
    NormalAnnotation_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ElementValuePairList(p):
    '''ElementValuePairList : ElementValuePairList COMMA ElementValuePair
                            | ElementValuePair
                            '''
    global ElementValuePairList_counter
    p[0] = "ElementValuePairList_{%d}" % (ElementValuePairList_counter)
    ElementValuePairList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ElementValuePair(p):
    '''ElementValuePair : Identifier EQUAL ElementValue'''
    global ElementValuePair_counter
    p[0] = "ElementValuePair_{%d}" % (ElementValuePair_counter)
    ElementValuePair_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ElementValue(p):
    '''ElementValue : ConditionalExpression
                    | ElementValueArrayInitializer
                    | Annotation '''
    global ElementValue_counter
    p[0] = "ElementValue_{%d}" % (ElementValue_counter)
    ElementValue_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ElementValueArrayInitializer(p):
    '''ElementValueArrayInitializer : LBRACES ElementValueList COMMA RBRACES
                                    | LBRACES ElementValueList RBRACES
                                    | LBRACES COMMA RBRACES
                                    | LBRACES RBRACES '''
    global ElementValueArrayInitializer_counter
    p[0] = "ElementValueArrayInitializer_{%d}" % (ElementValueArrayInitializer_counter)
    ElementValueArrayInitializer_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ElementValueList(p):
    '''ElementValueList : ElementValue COMMA ElementValueList
                        | ElementValue'''
    global ElementValueList_counter
    p[0] = "ElementValueList_{%d}" % (ElementValueList_counter)
    ElementValueList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_MarkerAnnotation(p):
    '''MarkerAnnotation : AT TypeName 
                        | AT Identifier '''
    global MarkerAnnotation_counter
    p[0] = "MarkerAnnotation_{%d}" % (MarkerAnnotation_counter)
    MarkerAnnotation_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_SingleElementAnnotation(p):
    '''SingleElementAnnotation : AT TypeName LPAREN ElementValue RPAREN
                               | AT Identifier LPAREN ElementValue RPAREN'''
    global SingleElementAnnotation_counter
    p[0] = "SingleElementAnnotation_{%d}" % (SingleElementAnnotation_counter)
    SingleElementAnnotation_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


################################################################################

def p_ArrayInitializer(p):
    '''ArrayInitializer : LBRACES VariableInitializerList COMMA RBRACES
                        | LBRACES VariableInitializerList RBRACES
                        | LBRACES COMMA RBRACES
                        | LBRACES RBRACES
                        '''
    global ArrayInitializer_counter
    p[0] = "ArrayInitializer_{%d}" % (ArrayInitializer_counter)
    ArrayInitializer_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_VariableInitializerList(p):
    '''VariableInitializerList : VariableInitializer COMMA VariableInitializerList
                               | VariableInitializer'''
    global VariableInitializerList_counter
    p[0] = "VariableInitializerList_{%d}" % (VariableInitializerList_counter)
    VariableInitializerList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


################################################################################

def p_Block(p):
    '''Block : LBRACES BlockStatements RBRACES
             | LBRACES RBRACES '''
    global Block_counter
    p[0] = "Block_{%d}" % (Block_counter)
    Block_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_BlockStatements(p):
    '''BlockStatements : MultBlockStatement'''
    global BlockStatements_counter
    p[0] = "BlockStatements_{%d}" % (BlockStatements_counter)
    BlockStatements_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_MultBlockStatement(p):
    '''MultBlockStatement : BlockStatement MultBlockStatement
                      | BlockStatement'''
    global MultBlockStatement_counter
    p[0] = "MultBlockStatement_{%d}" % (MultBlockStatement_counter)
    MultBlockStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_BlockStatement(p):
    '''BlockStatement : LocalVariableDeclarationStatement
                      | ClassDeclaration
                      | Statement'''
    global BlockStatement_counter
    p[0] = "BlockStatement_{%d}" % (BlockStatement_counter)
    BlockStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_LocalVariableDeclarationStatement(p):
    '''LocalVariableDeclarationStatement : LocalVariableDeclaration SEMICOLON '''
    global LocalVariableDeclarationStatement_counter
    p[0] = "LocalVariableDeclarationStatement_{%d}" % (LocalVariableDeclarationStatement_counter)
    LocalVariableDeclarationStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


#Added Type <--> Identifier to remove ClassType->Identifier
def p_LocalVariableDeclaration(p):
    '''LocalVariableDeclaration : ModifierList Type VariableDeclaratorList
                                | ModifierList Type Identifier
                                | Type VariableDeclaratorList
                                | Type Identifier
                                | ModifierList Identifier VariableDeclaratorList
                                | ModifierList Identifier Identifier
                                | Identifier VariableDeclaratorList
                                | Identifier Identifier'''
    global LocalVariableDeclaration_counter
    p[0] = "LocalVariableDeclaration_{%d}" % (LocalVariableDeclaration_counter)
    LocalVariableDeclaration_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_Statement(p):
    '''Statement : StatementWithoutTrailingSubstatement
                 | LabeledStatement
                 | IfThenStatement
                 | IfThenElseStatement
                 | WhileStatement
                 | ForStatement'''
    global Statement_counter
    p[0] = "Statement_{%d}" % (Statement_counter)
    Statement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_StatementNoShortIf(p):
    '''StatementNoShortIf : StatementWithoutTrailingSubstatement
                          | LabeledStatementNoShortIf
                          | IfThenElseStatementNoShortIf
                          | WhileStatementNoShortIf
                          | ForStatementNoShortIf'''
    global StatementNoShortIf_counter
    p[0] = "StatementNoShortIf_{%d}" % (StatementNoShortIf_counter)
    StatementNoShortIf_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_StatementWithoutTrailingSubstatement(p):
    '''StatementWithoutTrailingSubstatement : Block
                                            | EmptyStatement
                                            | ExpressionStatement
                                            | AssertStatement
                                            | SwitchStatement
                                            | DoStatement
                                            | BreakStatement
                                            | ContinueStatement
                                            | ReturnStatement
                                            | SynchronizedStatement
                                            | ThrowStatement
                                            | TryStatement'''
    global StatementWithoutTrailingSubstatement_counter
    p[0] = "StatementWithoutTrailingSubstatement_{%d}" % (StatementWithoutTrailingSubstatement_counter)
    StatementWithoutTrailingSubstatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_EmptyStatement(p):
    '''EmptyStatement : SEMICOLON'''
    global EmptyStatement_counter
    p[0] = "EmptyStatement_{%d}" % (EmptyStatement_counter)
    EmptyStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_LabeledStatement(p):
    '''LabeledStatement : Identifier COLON Statement '''
    global LabeledStatement_counter
    p[0] = "LabeledStatement_{%d}" % (LabeledStatement_counter)
    LabeledStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_LabeledStatementNoShortIf(p):
    '''LabeledStatementNoShortIf : Identifier COLON StatementNoShortIf '''
    global LabeledStatementNoShortIf_counter
    p[0] = "LabeledStatementNoShortIf_{%d}" % (LabeledStatementNoShortIf_counter)
    LabeledStatementNoShortIf_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ExpressionStatement(p):
    '''ExpressionStatement : StatementExpression SEMICOLON '''
    global ExpressionStatement_counter
    p[0] = "ExpressionStatement_{%d}" % (ExpressionStatement_counter)
    ExpressionStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_StatementExpression(p):
    '''StatementExpression : Assignment
                           | PLUSPLUS UnaryExpression
                           | MINUSMINUS UnaryExpression
                           | PostIncrementExpression
                           | PostDecrementExpression
                           | MethodInvocation
                           | ClassInstanceCreationExpression'''
    global StatementExpression_counter
    p[0] = "StatementExpression_{%d}" % (StatementExpression_counter)
    StatementExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_IfThenStatement(p):
    '''IfThenStatement :  IF LPAREN Expression RPAREN Statement'''
    global IfThenStatement_counter
    p[0] = "IfThenStatement_{%d}" % (IfThenStatement_counter)
    IfThenStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

    '''IfThenStatement :  IF LPAREN Expression RPAREN Statement'''


def p_IfThenElseStatement(p):
    '''IfThenElseStatement : IF LPAREN Expression RPAREN StatementNoShortIf ELSE Statement '''
    global IfThenElseStatement_counter
    p[0] = "IfThenElseStatement_{%d}" % (IfThenElseStatement_counter)
    IfThenElseStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_IfThenElseStatementNoShortIf(p):
    '''IfThenElseStatementNoShortIf : IF LPAREN Expression RPAREN StatementNoShortIf ELSE StatementNoShortIf '''
    global IfThenElseStatementNoShortIf_counter
    p[0] = "IfThenElseStatementNoShortIf_{%d}" % (IfThenElseStatementNoShortIf_counter)
    IfThenElseStatementNoShortIf_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_AssertStatement(p):
    '''AssertStatement : ASSERT Expression SEMICOLON
                       | ASSERT Expression COLON Expression SEMICOLON'''
    global AssertStatement_counter
    p[0] = "AssertStatement_{%d}" % (AssertStatement_counter)
    AssertStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_SwitchStatement(p):
    '''SwitchStatement : SWITCH LPAREN Expression RPAREN SwitchBlock '''
    global SwitchStatement_counter
    p[0] = "SwitchStatement_{%d}" % (SwitchStatement_counter)
    SwitchStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_SwitchBlock(p):
    '''SwitchBlock : LBRACES MultSwitchBlockStatementGroup MultSwitchLabel RBRACES
                   | LBRACES MultSwitchBlockStatementGroup RBRACES
                   | LBRACES MultSwitchLabel RBRACES
                   | LBRACES RBRACES '''
    global SwitchBlock_counter
    p[0] = "SwitchBlock_{%d}" % (SwitchBlock_counter)
    SwitchBlock_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_MultSwitchBlockStatementGroup(p):
    '''MultSwitchBlockStatementGroup : SwitchBlockStatementGroup MultSwitchBlockStatementGroup
                      | SwitchBlockStatementGroup'''
    global MultSwitchBlockStatementGroup_counter
    p[0] = "MultSwitchBlockStatementGroup_{%d}" % (MultSwitchBlockStatementGroup_counter)
    MultSwitchBlockStatementGroup_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_SwitchBlockStatementGroup(p):
    '''SwitchBlockStatementGroup :  MultSwitchLabel BlockStatements'''
    global SwitchBlockStatementGroup_counter
    p[0] = "SwitchBlockStatementGroup_{%d}" % (SwitchBlockStatementGroup_counter)
    SwitchBlockStatementGroup_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



def p_MultSwitchLabel(p):
    '''MultSwitchLabel : SwitchLabel MultSwitchLabel
                       | SwitchLabel'''
    global MultSwitchLabel_counter
    p[0] = "MultSwitchLabel_{%d}" % (MultSwitchLabel_counter)
    MultSwitchLabel_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_SwitchLabel(p):
    '''SwitchLabel : CASE Expression COLON
                   | CASE Identifier COLON
                   | DEFAULT COLON'''
    global SwitchLabel_counter
    p[0] = "SwitchLabel_{%d}" % (SwitchLabel_counter)
    SwitchLabel_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_WhileStatement(p):
    '''WhileStatement : WHILE LPAREN Expression RPAREN Statement '''
    global WhileStatement_counter
    p[0] = "WhileStatement_{%d}" % (WhileStatement_counter)
    WhileStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_WhileStatementNoShortIf(p):
    '''WhileStatementNoShortIf :  WHILE LPAREN Expression RPAREN StatementNoShortIf'''
    global WhileStatementNoShortIf_counter
    p[0] = "WhileStatementNoShortIf_{%d}" % (WhileStatementNoShortIf_counter)
    WhileStatementNoShortIf_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_DoStatement(p):
    '''DoStatement :  DO Statement WHILE LPAREN Expression RPAREN SEMICOLON'''
    global DoStatement_counter
    p[0] = "DoStatement_{%d}" % (DoStatement_counter)
    DoStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ForStatement(p):
    '''ForStatement : BasicForStatement
                    | EnhancedForStatement'''
    global ForStatement_counter
    p[0] = "ForStatement_{%d}" % (ForStatement_counter)
    ForStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ForStatementNoShortIf(p):
    '''ForStatementNoShortIf : BasicForStatementNoShortIf
                             | EnhancedForStatementNoShortIf '''
    global ForStatementNoShortIf_counter
    p[0] = "ForStatementNoShortIf_{%d}" % (ForStatementNoShortIf_counter)
    ForStatementNoShortIf_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_BasicForStatement(p):
    '''BasicForStatement : FOR LPAREN ForInit SEMICOLON Expression SEMICOLON ForUpdate RPAREN Statement
                         | FOR LPAREN ForInit SEMICOLON Expression SEMICOLON RPAREN Statement
                         | FOR LPAREN ForInit SEMICOLON SEMICOLON ForUpdate RPAREN Statement
                         | FOR LPAREN SEMICOLON Expression SEMICOLON ForUpdate RPAREN Statement
                         | FOR LPAREN SEMICOLON SEMICOLON ForUpdate RPAREN Statement
                         | FOR LPAREN SEMICOLON Expression SEMICOLON RPAREN Statement
                         | FOR LPAREN ForInit SEMICOLON SEMICOLON RPAREN Statement
                         | FOR LPAREN SEMICOLON SEMICOLON RPAREN Statement
                         '''
    global BasicForStatement_counter
    p[0] = "BasicForStatement_{%d}" % (BasicForStatement_counter)
    BasicForStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_BasicForStatementNoShortIf(p):
    '''BasicForStatementNoShortIf : FOR LPAREN ForInit SEMICOLON Expression SEMICOLON ForUpdate RPAREN StatementNoShortIf
                                  | FOR LPAREN ForInit SEMICOLON Expression SEMICOLON RPAREN StatementNoShortIf
                                  | FOR LPAREN ForInit SEMICOLON SEMICOLON ForUpdate RPAREN StatementNoShortIf
                                  | FOR LPAREN SEMICOLON Expression SEMICOLON ForUpdate RPAREN StatementNoShortIf
                                  | FOR LPAREN SEMICOLON SEMICOLON ForUpdate RPAREN StatementNoShortIf
                                  | FOR LPAREN SEMICOLON Expression SEMICOLON RPAREN StatementNoShortIf
                                  | FOR LPAREN ForInit SEMICOLON SEMICOLON RPAREN StatementNoShortIf
                                  | FOR LPAREN SEMICOLON SEMICOLON RPAREN StatementNoShortIf'''
    global BasicForStatementNoShortIf_counter
    p[0] = "BasicForStatementNoShortIf_{%d}" % (BasicForStatementNoShortIf_counter)
    BasicForStatementNoShortIf_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ForInit(p):
    '''ForInit : StatementExpressionList
               | LocalVariableDeclaration'''
    global ForInit_counter
    p[0] = "ForInit_{%d}" % (ForInit_counter)
    ForInit_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ForUpdate(p):
    '''ForUpdate : StatementExpressionList'''
    global ForUpdate_counter
    p[0] = "ForUpdate_{%d}" % (ForUpdate_counter)
    ForUpdate_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_StatementExpressionList(p):
    '''StatementExpressionList : StatementExpression COMMA StatementExpressionList
                               | StatementExpression'''
    global StatementExpressionList_counter
    p[0] = "StatementExpressionList_{%d}" % (StatementExpressionList_counter)
    StatementExpressionList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


#Added Type <--> Identifier to remove ClassType->Identifier
def p_EnhancedForStatement(p):
    '''EnhancedForStatement : FOR LPAREN ModifierList Type VariableDeclaratorId COLON Expression RPAREN Statement
                            | FOR LPAREN ModifierList Type Identifier COLON Expression RPAREN Statement
                            | FOR LPAREN Type VariableDeclaratorId COLON Expression RPAREN Statement
                            | FOR LPAREN Type Identifier COLON Expression RPAREN Statement
                            | FOR LPAREN ModifierList Identifier VariableDeclaratorId COLON Expression RPAREN Statement
                            | FOR LPAREN ModifierList Identifier Identifier COLON Expression RPAREN Statement
                            | FOR LPAREN Identifier VariableDeclaratorId COLON Expression RPAREN Statement
                            | FOR LPAREN Identifier Identifier COLON Expression RPAREN Statement'''
    global EnhancedForStatement_counter
    p[0] = "EnhancedForStatement_{%d}" % (EnhancedForStatement_counter)
    EnhancedForStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))



#Added Type <--> Identifier to remove ClassType->Identifier
def p_EnhancedForStatementNoShortIf(p):
    '''EnhancedForStatementNoShortIf : FOR LPAREN ModifierList Type VariableDeclaratorId COLON Expression RPAREN StatementNoShortIf
                                     | FOR LPAREN ModifierList Type Identifier COLON Expression RPAREN StatementNoShortIf
                                     | FOR LPAREN Type VariableDeclaratorId COLON Expression RPAREN StatementNoShortIf
                                     | FOR LPAREN Type Identifier COLON Expression RPAREN StatementNoShortIf
                                     | FOR LPAREN ModifierList Identifier VariableDeclaratorId COLON Expression RPAREN StatementNoShortIf
                                     | FOR LPAREN ModifierList Identifier Identifier COLON Expression RPAREN StatementNoShortIf
                                     | FOR LPAREN Identifier VariableDeclaratorId COLON Expression RPAREN StatementNoShortIf
                                     | FOR LPAREN Identifier Identifier COLON Expression RPAREN StatementNoShortIf'''
    global EnhancedForStatementNoShortIf_counter
    p[0] = "EnhancedForStatementNoShortIf_{%d}" % (EnhancedForStatementNoShortIf_counter)
    EnhancedForStatementNoShortIf_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_BreakStatement(p):
    '''BreakStatement : BREAK Identifier SEMICOLON
                      | BREAK SEMICOLON'''
    global BreakStatement_counter
    p[0] = "BreakStatement_{%d}" % (BreakStatement_counter)
    BreakStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ContinueStatement(p):
    '''ContinueStatement : CONTINUE Identifier SEMICOLON
                         | CONTINUE SEMICOLON '''
    global ContinueStatement_counter
    p[0] = "ContinueStatement_{%d}" % (ContinueStatement_counter)
    ContinueStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ReturnStatement(p):
    '''ReturnStatement : RETURN Expression SEMICOLON
                       | RETURN SEMICOLON'''
    global ReturnStatement_counter
    p[0] = "ReturnStatement_{%d}" % (ReturnStatement_counter)
    ReturnStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ThrowStatement(p):
    '''ThrowStatement : THROW Expression SEMICOLON '''
    global ThrowStatement_counter
    p[0] = "ThrowStatement_{%d}" % (ThrowStatement_counter)
    ThrowStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_SynchronizedStatement(p):
    '''SynchronizedStatement : SYNCHRONIZED LPAREN Expression RPAREN Block '''
    global SynchronizedStatement_counter
    p[0] = "SynchronizedStatement_{%d}" % (SynchronizedStatement_counter)
    SynchronizedStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_TryStatement(p):
    '''TryStatement : TRY Block Catches Finally
                    | TRY Block Catches
                    | TRY Block Finally
                    | TryWithResourcesStatement '''
    global TryStatement_counter
    p[0] = "TryStatement_{%d}" % (TryStatement_counter)
    TryStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_Catches(p):
    '''Catches : MultCatchClause'''
    global Catches_counter
    p[0] = "Catches_{%d}" % (Catches_counter)
    Catches_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_MultCatchClause(p):
    '''MultCatchClause : CatchClause MultCatchClause
                       | CatchClause'''
    global MultCatchClause_counter
    p[0] = "MultCatchClause_{%d}" % (MultCatchClause_counter)
    MultCatchClause_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_CatchClause(p):
    '''CatchClause : CATCH LPAREN CatchFormalParameter RPAREN Block '''
    global CatchClause_counter
    p[0] = "CatchClause_{%d}" % (CatchClause_counter)
    CatchClause_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_CatchFormalParameter(p):
    '''CatchFormalParameter : ModifierList CatchType VariableDeclaratorId
                            | ModifierList CatchType Identifier
                            | CatchType VariableDeclaratorId
                            | CatchType Identifier'''
    global CatchFormalParameter_counter
    p[0] = "CatchFormalParameter_{%d}" % (CatchFormalParameter_counter)
    CatchFormalParameter_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_CatchType(p):
    '''CatchType : ClassType BOOLEANOR MultCatchType1
                 | ClassType '''
    global CatchType_counter
    p[0] = "CatchType_{%d}" % (CatchType_counter)
    CatchType_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_MultCatchType1(p):
    '''MultCatchType1 : BOOLEANOR CatchType MultCatchType1
                     | empty'''
    global MultCatchType1_counter
    p[0] = "MultCatchType1_{%d}" % (MultCatchType1_counter)
    MultCatchType1_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_Finally(p):
    '''Finally : FINALLY Block '''
    global Finally_counter
    p[0] = "Finally_{%d}" % (Finally_counter)
    Finally_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_TryWithResourcesStatement(p):
    '''TryWithResourcesStatement : TRY ResourceSpecification Block Catches Finally
                                 | TRY ResourceSpecification Block Catches
                                 | TRY ResourceSpecification Block Finally
                                 | TRY ResourceSpecification Block '''
    global TryWithResourcesStatement_counter
    p[0] = "TryWithResourcesStatement_{%d}" % (TryWithResourcesStatement_counter)
    TryWithResourcesStatement_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ResourceSpecification(p):
    '''ResourceSpecification : LPAREN ResourceList SEMICOLON RPAREN
                             | LPAREN ResourceList RPAREN '''
    global ResourceSpecification_counter
    p[0] = "ResourceSpecification_{%d}" % (ResourceSpecification_counter)
    ResourceSpecification_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ResourceList(p):
    '''ResourceList : Resource SEMICOLON ResourceList
                    | Resource'''
    global ResourceList_counter
    p[0] = "ResourceList_{%d}" % (ResourceList_counter)
    ResourceList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


#Added Type <--> Identifier to remove ClassType->Identifier
def p_Resource(p):
    '''Resource : ModifierList Type VariableDeclaratorId EQUAL Expression
                | ModifierList Type Identifier EQUAL Expression
                | Type VariableDeclaratorId EQUAL Expression
                | Type Identifier EQUAL Expression
                | ModifierList Identifier VariableDeclaratorId EQUAL Expression
                | ModifierList Identifier Identifier EQUAL Expression
                | Identifier VariableDeclaratorId EQUAL Expression
                | Identifier Identifier EQUAL Expression'''
    global Resource_counter
    p[0] = "Resource_{%d}" % (Resource_counter)
    Resource_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


################################################################################

def p_Primary(p):
    '''Primary : PrimaryNoNewArray
               | ArrayCreationExpression '''

    global Primary_counter
    p[0] = "Primary_{%d}" % (Primary_counter)
    Primary_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_PrimaryNoNewArray(p):
    '''PrimaryNoNewArray : Literal
                         | ClassLiteral
                         | THIS
                         | TypeName DOT THIS
                         | Identifier DOT THIS
                         | LPAREN Expression RPAREN
                         | ClassInstanceCreationExpression
                         | FieldAccess
                         | ArrayAccess
                         | MethodInvocation
                         | MethodReference'''

    global PrimaryNoNewArray_counter
    p[0] = "PrimaryNoNewArray_{%d}" % (PrimaryNoNewArray_counter)
    PrimaryNoNewArray_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))
        else:
            f.write('sldkfjsldkfjlfdjlk')

def p_ClassLiteral(p):
    '''ClassLiteral : TypeName Brackets DOT CLASS
                    | Identifier Brackets DOT CLASS
                    | NumericType Brackets DOT CLASS
                    | BOOLEAN Brackets DOT CLASS
                    | TypeName DOT CLASS
                    | Identifier DOT CLASS
                    | NumericType DOT CLASS
                    | BOOLEAN DOT CLASS
                    | VOID DOT CLASS'''

    global ClassLiteral_counter
    p[0] = "ClassLiteral_{%d}" % (ClassLiteral_counter)
    ClassLiteral_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ClassInstanceCreationExpression(p):
    '''ClassInstanceCreationExpression : UnqualifiedClassInstanceCreationExpression
                                       | Identifier DOT UnqualifiedClassInstanceCreationExpression
                                       | TypeName DOT UnqualifiedClassInstanceCreationExpression
                                       | Primary DOT UnqualifiedClassInstanceCreationExpression'''

    global ClassInstanceCreationExpression_counter
    p[0] = "ClassInstanceCreationExpression_{%d}" % (ClassInstanceCreationExpression_counter)
    ClassInstanceCreationExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_UnqualifiedClassInstanceCreationExpression(p):
    '''UnqualifiedClassInstanceCreationExpression : NEW TypeArguments ClassOrInterfaceTypeToInstantiate LPAREN ArgumentList RPAREN ClassBody
                                                  | NEW ClassOrInterfaceTypeToInstantiate LPAREN ArgumentList RPAREN ClassBody
                                                  | NEW TypeArguments ClassOrInterfaceTypeToInstantiate LPAREN RPAREN ClassBody
                                                  | NEW TypeArguments ClassOrInterfaceTypeToInstantiate LPAREN ArgumentList RPAREN
                                                  | NEW TypeArguments ClassOrInterfaceTypeToInstantiate LPAREN RPAREN
                                                  | NEW ClassOrInterfaceTypeToInstantiate LPAREN ArgumentList RPAREN
                                                  | NEW ClassOrInterfaceTypeToInstantiate LPAREN RPAREN ClassBody
                                                  | NEW ClassOrInterfaceTypeToInstantiate LPAREN RPAREN '''

    global UnqualifiedClassInstanceCreationExpression_counter
    p[0] = "UnqualifiedClassInstanceCreationExpression_{%d}" % (UnqualifiedClassInstanceCreationExpression_counter)
    UnqualifiedClassInstanceCreationExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ClassOrInterfaceTypeToInstantiate(p):
    '''ClassOrInterfaceTypeToInstantiate : MultAnnotation Identifier ClassOrInterfaceTypeToInstantiate1 TypeArgumentsOrDiamond
                                         | MultAnnotation Identifier TypeArgumentsOrDiamond
                                         | MultAnnotation Identifier ClassOrInterfaceTypeToInstantiate1
                                         | MultAnnotation Identifier
                                         | Identifier ClassOrInterfaceTypeToInstantiate1 TypeArgumentsOrDiamond
                                         | Identifier TypeArgumentsOrDiamond
                                         | Identifier ClassOrInterfaceTypeToInstantiate1
                                         | Identifier'''

    global ClassOrInterfaceTypeToInstantiate_counter
    p[0] = "ClassOrInterfaceTypeToInstantiate_{%d}" % (ClassOrInterfaceTypeToInstantiate_counter)
    ClassOrInterfaceTypeToInstantiate_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ClassOrInterfaceTypeToInstantiate1(p):
    '''ClassOrInterfaceTypeToInstantiate1 : DOT MultAnnotation Identifier ClassOrInterfaceTypeToInstantiate1
                                          | DOT Identifier ClassOrInterfaceTypeToInstantiate1
                                          | DOT MultAnnotation Identifier 
                                          | DOT Identifier '''

    global ClassOrInterfaceTypeToInstantiate1_counter
    p[0] = "ClassOrInterfaceTypeToInstantiate1_{%d}" % (ClassOrInterfaceTypeToInstantiate1_counter)
    ClassOrInterfaceTypeToInstantiate1_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_TypeArgumentsOrDiamond(p):
    '''TypeArgumentsOrDiamond : TypeArguments
                              | LESSTHAN GREATERTHAN'''

    global TypeArgumentsOrDiamond_counter
    p[0] = "TypeArgumentsOrDiamond_{%d}" % (TypeArgumentsOrDiamond_counter)
    TypeArgumentsOrDiamond_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_FieldAccess(p):
    '''FieldAccess : Primary DOT Identifier
                   | SUPER DOT Identifier
                   | Identifier DOT SUPER DOT Identifier
                   | TypeName DOT SUPER DOT Identifier'''

    global FieldAccess_counter
    p[0] = "FieldAccess_{%d}" % (FieldAccess_counter)
    FieldAccess_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ArrayAccess(p):
    '''ArrayAccess : TypeName LBRACKETS Expression RBRACKETS
                   | Identifier LBRACKETS Expression RBRACKETS
                   | PrimaryNoNewArray LBRACKETS Expression RBRACKETS '''

    global ArrayAccess_counter
    p[0] = "ArrayAccess_{%d}" % (ArrayAccess_counter)
    ArrayAccess_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_MethodInvocation(p):
    '''MethodInvocation : Identifier LPAREN ArgumentList RPAREN
                        | Identifier LPAREN RPAREN
                        | TypeName DOT TypeArguments Identifier LPAREN ArgumentList RPAREN
                        | TypeName DOT Identifier LPAREN ArgumentList RPAREN
                        | TypeName DOT TypeArguments Identifier LPAREN RPAREN
                        | TypeName DOT Identifier LPAREN RPAREN
                        | Identifier DOT TypeArguments Identifier LPAREN ArgumentList RPAREN
                        | Identifier DOT Identifier LPAREN ArgumentList RPAREN
                        | Identifier DOT TypeArguments Identifier LPAREN RPAREN
                        | Identifier DOT Identifier LPAREN RPAREN
                        | Primary DOT TypeArguments Identifier LPAREN ArgumentList RPAREN
                        | Primary DOT Identifier LPAREN ArgumentList RPAREN
                        | Primary DOT TypeArguments Identifier LPAREN RPAREN
                        | Primary DOT Identifier LPAREN RPAREN
                        | SUPER DOT TypeArguments Identifier LPAREN ArgumentList RPAREN
                        | SUPER DOT Identifier LPAREN ArgumentList RPAREN
                        | SUPER DOT TypeArguments Identifier LPAREN RPAREN
                        | SUPER DOT Identifier LPAREN RPAREN
                        | TypeName DOT SUPER DOT TypeArguments Identifier LPAREN ArgumentList RPAREN
                        | TypeName DOT SUPER DOT Identifier LPAREN ArgumentList RPAREN
                        | TypeName DOT SUPER DOT TypeArguments Identifier LPAREN RPAREN
                        | TypeName DOT SUPER DOT Identifier LPAREN RPAREN 
                        | Identifier DOT SUPER DOT TypeArguments Identifier LPAREN ArgumentList RPAREN
                        | Identifier DOT SUPER DOT Identifier LPAREN ArgumentList RPAREN
                        | Identifier DOT SUPER DOT TypeArguments Identifier LPAREN RPAREN
                        | Identifier DOT SUPER DOT Identifier LPAREN RPAREN '''

    global MethodInvocation_counter
    p[0] = "MethodInvocation_{%d}" % (MethodInvocation_counter)
    MethodInvocation_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ArgumentList(p):
    '''ArgumentList : Expression COMMA ArgumentList
                    | Expression'''

    global ArgumentList_counter
    p[0] = "ArgumentList_{%d}" % (ArgumentList_counter)
    ArgumentList_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_MethodReference(p):
    '''MethodReference : TypeName DOUBLECOLON TypeArguments Identifier
                       | TypeName DOUBLECOLON Identifier
                       | Identifier DOUBLECOLON TypeArguments Identifier
                       | Identifier DOUBLECOLON Identifier
                       | ReferenceType DOUBLECOLON TypeArguments Identifier
                       | ReferenceType DOUBLECOLON Identifier
                       | Primary DOUBLECOLON TypeArguments Identifier
                       | Primary DOUBLECOLON Identifier
                       | SUPER DOUBLECOLON TypeArguments Identifier
                       | SUPER DOUBLECOLON Identifier
                       | TypeName DOT SUPER DOUBLECOLON TypeArguments Identifier
                       | TypeName DOT SUPER DOUBLECOLON Identifier
                       | Identifier DOT SUPER DOUBLECOLON TypeArguments Identifier
                       | Identifier DOT SUPER DOUBLECOLON Identifier
                       | ClassType DOUBLECOLON TypeArguments NEW
                       | ClassType DOUBLECOLON NEW
                       | ArrayType DOUBLECOLON NEW '''

    global MethodReference_counter
    p[0] = "MethodReference_{%d}" % (MethodReference_counter)
    MethodReference_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ArrayCreationExpression(p):
    '''ArrayCreationExpression : NEW PrimitiveType DimExprs Dims
                               | NEW PrimitiveType DimExprs
                               | NEW ClassOrInterfaceType DimExprs Dims
                               | NEW ClassOrInterfaceType DimExprs
                               | NEW PrimitiveType Dims ArrayInitializer
                               | NEW ClassOrInterfaceType Dims ArrayInitializer'''

    global ArrayCreationExpression_counter
    p[0] = "ArrayCreationExpression_{%d}" % (ArrayCreationExpression_counter)
    ArrayCreationExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_DimExprs(p):
    '''DimExprs : DimExpr DimExprs
                | DimExpr'''

    global DimExprs_counter
    p[0] = "DimExprs_{%d}" % (DimExprs_counter)
    DimExprs_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_DimExpr(p):
    '''DimExpr : MultAnnotation LBRACKETS Expression RBRACKETS
               | LBRACKETS Expression RBRACKETS'''

    global DimExpr_counter
    p[0] = "DimExpr_{%d}" % (DimExpr_counter)
    DimExpr_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_Expression(p):
    '''Expression : LambdaExpression
                  | AssignmentExpression '''

    global Expression_counter
    p[0] = "Expression_{%d}" % (Expression_counter)
    Expression_counter+=1
    f.write('"%s" -> "%s"\n' % (p[0], p[1]))

def p_LambdaExpression(p):
    '''LambdaExpression : LambdaParameters ARROW LambdaBody 
                        | Identifier ARROW LambdaBody '''


def p_LambdaParameters(p):
    '''LambdaParameters : LPAREN FormalParameterList RPAREN
                        | LPAREN RPAREN
                        | LPAREN CommaSeparatedIdentifiers RPAREN 
                        | LPAREN Identifier RPAREN '''



def p_LambdaBody(p):
    '''LambdaBody : Expression
                  | Block '''


def p_AssignmentExpression(p):
    '''AssignmentExpression : ConditionalExpression
                            | Assignment '''

    global LambdaExpression_counter
    p[0] = "AssignmentExpression_{%d}" % (LambdaExpression_counter)
    LambdaExpression_counter+=1
    f.write('"%s" -> "%s"\n' % (p[0], p[1]))

def p_Assignment(p):
    '''Assignment : LeftHandSide AssignmentOperator Expression
                  | TypeName AssignmentOperator Expression
                  | Identifier AssignmentOperator Expression'''

    global Assignment_counter
    p[0] = "Assignment_{%d}" % (Assignment_counter)
    Assignment_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_LeftHandSide(p):
    '''LeftHandSide : FieldAccess
                    | ArrayAccess '''

    global LeftHandSide_counter
    p[0] = "LeftHandSide_{%d}" % (LeftHandSide_counter)
    LeftHandSide_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_AssignmentOperator(p):
    '''AssignmentOperator : EQUAL
                          | MULTIPLYEQUALS
                          | DIVIDEEQUALS
                          | MODULOEQUALS
                          | PLUSEQUALS
                          | MINUSEQUALS
                          | LEFTSHIFTEQUALS
                          | RIGHTSHIFTEQUALS
                          | URIGHTSHIFTEQUALS
                          | ANDEQUALS
                          | XOREQUALS
                          | OREQUALS'''

    global AssignmentOperator_counter
    p[0] = "AssignmentOperator_{%d}" % (AssignmentOperator_counter)
    AssignmentOperator_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_ConditionalExpression(p):
    '''ConditionalExpression : ConditionalOrExpression QUESTIONMARK Expression COLON ConditionalExpression
                             | ConditionalOrExpression QUESTIONMARK Expression COLON LambdaExpression
                             | ConditionalOrExpression
                             '''

    global ConditionalExpression_counter
    p[0] = "ConditionalExpression_{%d}" % (ConditionalExpression_counter)
    ConditionalExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ConditionalOrExpression(p):
    '''ConditionalOrExpression : ConditionalOrExpression OR ConditionalAndExpression 
                               | ConditionalAndExpression
                               '''

    global ConditionalOrExpression_counter
    p[0] = "ConditionalOrExpression_{%d}" % (ConditionalOrExpression_counter)
    ConditionalOrExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ConditionalAndExpression(p):
    '''ConditionalAndExpression : ConditionalAndExpression AND InclusiveOrExpression
                                | InclusiveOrExpression
                                '''

    global ConditionalAndExpression_counter
    p[0] = "ConditionalAndExpression_{%d}" % (ConditionalAndExpression_counter)
    ConditionalAndExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_InclusiveOrExpression(p):
    '''InclusiveOrExpression : InclusiveOrExpression BOOLEANOR ExclusiveOrExpression
                             | ExclusiveOrExpression
                             '''

    global InclusiveOrExpression_counter
    p[0] = "InclusiveOrExpression_{%d}" % (InclusiveOrExpression_counter)
    InclusiveOrExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ExclusiveOrExpression(p):
    '''ExclusiveOrExpression : ExclusiveOrExpression BOOLEANXOR AndExpression
                             | AndExpression
                            '''

    global ExclusiveOrExpression_counter
    p[0] = "ExclusiveOrExpression_{%d}" % (ExclusiveOrExpression_counter)
    ExclusiveOrExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_AndExpression(p):
    '''AndExpression : AndExpression BOOLEANAND EqualityExpression
                     | EqualityExpression
                     '''

    global AndExpression_counter
    p[0] = "AndExpression_{%d}" % (AndExpression_counter)
    AndExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_EqualityExpression(p):
    '''EqualityExpression : EqualityExpression EQUALS RelationalExpression
                          | EqualityExpression NOTEQUALS RelationalExpression 
                          | RelationalExpression
                          '''

    global EqualityExpression_counter
    p[0] = "EqualityExpression_{%d}" % (EqualityExpression_counter)
    EqualityExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_RelationalExpression(p):
    '''RelationalExpression : RelationalExpression LESSTHAN ShiftExpression
                            | RelationalExpression GREATERTHAN ShiftExpression
                            | RelationalExpression LESSTHANEQUAL ShiftExpression
                            | RelationalExpression GREATERTHANEQUAL ShiftExpression
                            | RelationalExpression INSTANCEOF ReferenceType
                            | ShiftExpression'''

    global RelationalExpression_counter
    p[0] = "RelationalExpression_{%d}" % (RelationalExpression_counter)
    RelationalExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))


def p_ShiftExpression(p):
    '''ShiftExpression : ShiftExpression LEFTSHIFT AdditiveExpression
                       | ShiftExpression RIGHTSHIFT AdditiveExpression
                       | ShiftExpression URIGHTSHIFT AdditiveExpression 
                       | AdditiveExpression
                       '''

    global ShiftExpression_counter
    p[0] = "ShiftExpression_{%d}" % (ShiftExpression_counter)
    ShiftExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

#Removed left recursion
def p_AdditiveExpression(p):
    '''AdditiveExpression : AdditiveExpression PLUS MultiplicativeExpression
                          | AdditiveExpression MINUS MultiplicativeExpression
                          | MultiplicativeExpression'''

    global AdditiveExpression_counter
    p[0] = "AdditiveExpression_{%d}" % (AdditiveExpression_counter)
    AdditiveExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_MultiplicativeExpression(p):
    '''MultiplicativeExpression : MultiplicativeExpression MULTIPLY UnaryExpression
                                | MultiplicativeExpression DIVIDE UnaryExpression
                                | MultiplicativeExpression MODULO UnaryExpression
                                | UnaryExpression '''

    global MultiplicativeExpression_counter
    p[0] = "MultiplicativeExpression_{%d}" % (MultiplicativeExpression_counter)
    MultiplicativeExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_UnaryExpression(p):
    '''UnaryExpression : PLUSPLUS UnaryExpression
                       | MINUSMINUS UnaryExpression
                       | PLUS UnaryExpression
                       | MINUS UnaryExpression
                       | UnaryExpressionNotPlusMinus
                       | Primary
                       | TypeName
                       | Identifier '''

    global UnaryExpression_counter
    p[0] = "UnaryExpression_{%d}" % (UnaryExpression_counter)
    UnaryExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))
        else:
            print("SLDKFJSLDKFJLFKDJDL")

def p_UnaryExpressionNotPlusMinus(p):
    '''UnaryExpressionNotPlusMinus : PostIncrementExpression
                                   | PostDecrementExpression
                                   | TILDA UnaryExpression
                                   | BOOLEANNOT UnaryExpression
                                   | CastExpression '''

    global UnaryExpressionNotPlusMinus_counter
    p[0] = "UnaryExpressionNotPlusMinus_{%d}" % (UnaryExpressionNotPlusMinus_counter)
    UnaryExpressionNotPlusMinus_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_PostIncrementExpression(p):
    '''PostIncrementExpression : PostIncrementExpression PLUSPLUS
                               | PostDecrementExpression PLUSPLUS
                               | Primary PLUSPLUS
                               | TypeName PLUSPLUS
                               | Identifier PLUSPLUS
                               '''

    global PostIncrementExpression_counter
    p[0] = "PostIncrementExpression_{%d}" % (PostIncrementExpression_counter)
    PostIncrementExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_PostDecrementExpression(p):
    '''PostDecrementExpression : PostIncrementExpression MINUSMINUS
                               | PostDecrementExpression MINUSMINUS
                               | Primary MINUSMINUS
                               | TypeName MINUSMINUS
                               | Identifier MINUSMINUS
                               '''

    global PostDecrementExpression_counter
    p[0] = "PostDecrementExpression_{%d}" % (PostDecrementExpression_counter)
    PostDecrementExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

def p_CastExpression(p):
    '''CastExpression : LPAREN PrimitiveType RPAREN UnaryExpression
                      | LPAREN ReferenceType MultAdditionalBound RPAREN UnaryExpressionNotPlusMinus
                      | LPAREN ReferenceType RPAREN UnaryExpressionNotPlusMinus
                      | LPAREN ReferenceType MultAdditionalBound RPAREN Primary
                      | LPAREN ReferenceType RPAREN Primary
                      | LPAREN ReferenceType MultAdditionalBound RPAREN TypeName
                      | LPAREN ReferenceType RPAREN TypeName
                      | LPAREN ReferenceType MultAdditionalBound RPAREN Identifier
                      | LPAREN ReferenceType RPAREN Identifier
                      | LPAREN ReferenceType MultAdditionalBound RPAREN LambdaExpression
                      | LPAREN ReferenceType RPAREN LambdaExpression '''

    global CastExpression_counter
    p[0] = "CastExpression_{%d}" % (CastExpression_counter)
    CastExpression_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

################################################################################

#Default Error
def p_error(p):
    print("Input Error: ", p)
    return

#Empty_Production
def p_empty(p):
    'empty :'
    f.write('"%s" -> "ε (Epsilon)"\n' % (p[0]))
    pass

def p_Brackets(p):
    ''' Brackets : LBRACKETS RBRACKETS Brackets
               | LBRACKETS RBRACKETS'''
    global Brackets_counter
    p[0] = "Brackets_{%d}" % (Brackets_counter)
    Brackets_counter+=1
    for i in range(1, len(p)):
        if (p[i] is not None):
            f.write('"%s" -> "%s"\n' % (p[0], p[i]))

# Build the parser
if __name__ == '__main__':
    parser = yacc.yacc()

    file=open(sys.argv[1],'r')
    test=file.read()

    file_path = sys.argv[1]
    f = open("a.dot","+w")
    f.write("strict digraph AST {\n")
    if (not os.path.isfile(file_path)):
        print("The file doesn't exist. EXITING.")
        sys.exit(-1)

    file1 = open(file_path)
    code = file1.read()

    parser.parse(code,lexer, True, True)
    f.write("}\n")
    f.close()
